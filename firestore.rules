rules_version = '2';
service cloud.firestore {
   match /databases/{database}/documents {
      match /content/{id} {
        allow read;
      }
      match /potassium-argon-age-calculations/{id} {
       allow read, update, create, delete: if request.auth != null;
      }
      match /potassium-argon-age-constants/{id} {
       allow read, update, create, delete: if request.auth != null;
      }
      match /sources/{sourceID} {
        allow read, write: if request.auth.uid != null;
      }
      match /communication/{item} {
        allow read: if request.auth.token.admin == true;
      }
      match /users/{userUID} {
          allow read, update, delete: if request.auth.uid == userUID ||  request.auth.token.admin == true;
          allow create;
      }
      match /projects/{projectUID} {
        allow read;
      }
      match /users/{userUID}/{document=**} {
          allow create;
          allow read, update, delete: if request.auth != null && request.auth.uid == userUID;
      }
  }
}